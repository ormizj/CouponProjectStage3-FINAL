{"ast":null,"code":"import axios from 'axios';\nimport history from './../components/App/history';\n\nclass AuthenticationService {\n  constructor() {\n    this.logIn = async (email, password, userType) => {\n      return await axios.post(\"http://localhost:8080/login-manager/login?email=\" + email + \"&password=\" + password + \"&userType=\" + userType).then(response => {\n        if (response.data) {\n          localStorage.setItem(\"user\", JSON.stringify(response.data));\n        }\n\n        return response.data;\n      }).catch(err => {\n        throw err;\n      });\n    };\n\n    this.registerCustomer = async (firstName, lastName, email, password) => {\n      return await axios.post(\"http://localhost:8080/login-manager/register-customer\", {\n        firstName,\n        lastName,\n        email,\n        password\n      });\n    };\n\n    this.registerCompany = async (name, email, password) => {\n      return await axios.post(\"http://localhost:8080/login-manager/register-company\", {\n        name,\n        email,\n        password\n      });\n    };\n  }\n\n  logOut() {\n    localStorage.removeItem(\"user\");\n    history.push('/login');\n  }\n\n  getCurrentUser() {\n    return JSON.parse(localStorage.getItem('user'));\n  }\n\n}\n\nexport default new AuthenticationService();","map":{"version":3,"sources":["C:/Users/spide/Desktop/Visual Studio Workspace/GradeProjectStage3/coupon-system-website/src/services/AuthenticationService.js"],"names":["axios","history","AuthenticationService","logIn","email","password","userType","post","then","response","data","localStorage","setItem","JSON","stringify","catch","err","registerCustomer","firstName","lastName","registerCompany","name","logOut","removeItem","push","getCurrentUser","parse","getItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,6BAApB;;AAEA,MAAMC,qBAAN,CAA4B;AAAA;AAAA,SAExBC,KAFwB,GAEhB,OAAOC,KAAP,EAAcC,QAAd,EAAwBC,QAAxB,KAAqC;AACzC,aAAO,MAAMN,KAAK,CAACO,IAAN,CAAW,qDAAqDH,KAArD,GAA6D,YAA7D,GAA4EC,QAA5E,GAAuF,YAAvF,GAAsGC,QAAjH,EACRE,IADQ,CACHC,QAAQ,IAAI;AACd,YAAIA,QAAQ,CAACC,IAAb,EAAmB;AACfC,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACC,IAAxB,CAA7B;AACH;;AACD,eAAOD,QAAQ,CAACC,IAAhB;AACH,OANQ,EAORK,KAPQ,CAOFC,GAAG,IAAI;AACV,cAAMA,GAAN;AACH,OATQ,CAAb;AAWH,KAduB;;AAAA,SAqBxBC,gBArBwB,GAqBL,OAAOC,SAAP,EAAkBC,QAAlB,EAA4Bf,KAA5B,EAAmCC,QAAnC,KAAgD;AAC/D,aAAO,MAAML,KAAK,CAACO,IAAN,CAAW,uDAAX,EACT;AAAEW,QAAAA,SAAF;AAAaC,QAAAA,QAAb;AAAuBf,QAAAA,KAAvB;AAA8BC,QAAAA;AAA9B,OADS,CAAb;AAGH,KAzBuB;;AAAA,SA2BxBe,eA3BwB,GA2BN,OAAOC,IAAP,EAAajB,KAAb,EAAoBC,QAApB,KAAiC;AAC/C,aAAO,MAAML,KAAK,CAACO,IAAN,CAAW,sDAAX,EACT;AAAEc,QAAAA,IAAF;AAAQjB,QAAAA,KAAR;AAAeC,QAAAA;AAAf,OADS,CAAb;AAGH,KA/BuB;AAAA;;AAgBxBiB,EAAAA,MAAM,GAAG;AACLX,IAAAA,YAAY,CAACY,UAAb,CAAwB,MAAxB;AACAtB,IAAAA,OAAO,CAACuB,IAAR,CAAa,QAAb;AACH;;AAcDC,EAAAA,cAAc,GAAG;AACb,WAAOZ,IAAI,CAACa,KAAL,CAAWf,YAAY,CAACgB,OAAb,CAAqB,MAArB,CAAX,CAAP;AACH;;AAnCuB;;AAuC5B,eAAe,IAAIzB,qBAAJ,EAAf","sourcesContent":["import axios from 'axios';\r\nimport history from './../components/App/history'\r\n\r\nclass AuthenticationService {\r\n\r\n    logIn = async (email, password, userType) => {\r\n        return await axios.post(\"http://localhost:8080/login-manager/login?email=\" + email + \"&password=\" + password + \"&userType=\" + userType)\r\n            .then(response => {\r\n                if (response.data) {\r\n                    localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n                }\r\n                return response.data;\r\n            })\r\n            .catch(err => {\r\n                throw err;\r\n            }\r\n            );\r\n    }\r\n\r\n    logOut() {\r\n        localStorage.removeItem(\"user\");\r\n        history.push('/login');\r\n    }\r\n\r\n    registerCustomer = async (firstName, lastName, email, password) => {\r\n        return await axios.post(\"http://localhost:8080/login-manager/register-customer\",\r\n            { firstName, lastName, email, password }\r\n        );\r\n    }\r\n\r\n    registerCompany = async (name, email, password) => {\r\n        return await axios.post(\"http://localhost:8080/login-manager/register-company\",\r\n            { name, email, password }\r\n        );\r\n    }\r\n\r\n    getCurrentUser() {\r\n        return JSON.parse(localStorage.getItem('user'));\r\n    }\r\n\r\n}\r\n\r\nexport default new AuthenticationService();"]},"metadata":{},"sourceType":"module"}